<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thống kê - Hệ thống quản lý nhà thuốc</title>

    <!-- Boxicons & CSS -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/admin.css" />

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <!-- ========== SIDEBAR ========== -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <i class="bx bx-capsule logo-icon"></i>
        <span class="logo-text">Pharmacy</span>
      </div>

      <ul class="sidebar-menu">
        <li>
          <a href="index.html">
            <i class="bx bx-home"></i>
            <span>Bảng điều khiển</span>
          </a>
        </li>
        <li>
          <a href="drugs.html">
            <i class="bx bx-plus-medical"></i>
            <span>Thuốc</span>
          </a>
        </li>
        <li>
          <a href="categories.html">
            <i class="bx bx-category"></i>
            <span>Danh mục</span>
          </a>
        </li>
        <li>
          <a href="orders.html">
            <i class="bx bx-cart-alt"></i>
            <span>Đơn hàng</span>
          </a>
        </li>
        <li>
          <a href="users.html">
            <i class="bx bx-user"></i>
            <span>Người dùng</span>
          </a>
        </li>
        <li class="active">
          <a href="statistics.html">
            <i class="bx bx-line-chart"></i>
            <span>Thống kê</span>
          </a>
        </li>
        <li>
          <a href="discount.html">
            <i class="bx bx-tag"></i>
            <span>Khuyễn mãi</span>
          </a>
        </li>
        <li class="logout">
          <a href="#">
            <i class="bx bx-log-out"></i>
            <span>Đăng xuất</span>
          </a>
        </li>
      </ul>

      <div class="sidebar-toggle" id="toggleSidebar">
        <i class="bx bx-chevron-left"></i>
      </div>
    </aside>

    <!-- ========== MAIN CONTENT ========== -->
    <main class="main-content">
      <header class="main-header">
        <h1>Thống kê nhà thuốc</h1>
        <div class="user-info">
          <i class="bx bx-user-circle"></i>
          <span>Admin</span>
        </div>
      </header>

      <section class="content">
        <div class="stats-cards">
          <div class="card">
            <h3>Đơn hàng hôm nay</h3>
            <p>25</p>
          </div>
          <div class="card">
            <h3>Thuốc bán chạy</h3>
            <p>Paracetamol</p>
          </div>
          <div class="card">
            <h3>Người dùng mới</h3>
            <p>12</p>
          </div>
          <div class="card">
            <h3>Doanh thu</h3>
            <p>5.200.000₫</p>
          </div>
        </div>

        <div class="charts">
          <div class="chart-card">
            <h3>Doanh thu theo tháng</h3>
            <canvas id="revenueChart"></canvas>
          </div>
          <div class="chart-card">
            <h3>Đơn hàng theo trạng thái</h3>
            <canvas id="ordersChart"></canvas>
          </div>
        </div>
      </section>
    </main>

    <!-- ========== SCRIPT ========== -->
    <script>
      const toggleSidebar = document.getElementById("toggleSidebar");
      const sidebar = document.querySelector(".sidebar");
      const icon = toggleSidebar.querySelector("i");

      toggleSidebar.addEventListener("click", () => {
        sidebar.classList.toggle("collapsed");
        icon.classList.toggle("bx-chevron-right");
      });

      // ==== Chart.js examples ====
      const revenueCtx = document.getElementById("revenueChart").getContext("2d");
      const revenueChart = new Chart(revenueCtx, {
        type: "line",
        data: {
          labels: ["Tháng 1", "Tháng 2", "Tháng 3", "Tháng 4", "Tháng 5", "Tháng 6"],
          datasets: [
            {
              label: "Doanh thu (₫)",
              data: [5000000, 4200000, 6000000, 5500000, 7000000, 6500000],
              borderColor: "#248a3d",
              backgroundColor: "rgba(36,138,61,0.2)",
              tension: 0.3,
              fill: true
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: true, position: "top" }
          }
        }
      });

      const ordersCtx = document.getElementById("ordersChart").getContext("2d");
      const ordersChart = new Chart(ordersCtx, {
        type: "doughnut",
        data: {
          labels: ["Đã thanh toán", "Chưa thanh toán", "Đang giao"],
          datasets: [
            {
              label: "Số lượng đơn",
              data: [40, 10, 5],
              backgroundColor: ["#248a3d", "#f1c40f", "#e74c3c"],
              borderWidth: 1
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { position: "bottom" }
          }
        }
      });
    </script>
  </body>
</html>
