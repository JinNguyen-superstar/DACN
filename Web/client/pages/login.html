<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- CSS -->
        <link rel="stylesheet" href="../css/login.css" />
        <title>ƒêƒÉng nh·∫≠p</title>
    </head>
    <body>
        <div class="auth">
            <div class="card">
                <div class="tabs">
                    <button class="tab active" data-tab="login">
                        ƒêƒÉng nh·∫≠p
                    </button>
                    <button class="tab register-active" data-tab="register">
                        ƒêƒÉng k√Ω
                    </button>
                </div>
                <form id="loginForm" class="panel active" novalidate>
                    <div class="field">
                        <label>Email ho·∫∑c Username</label>
                        <input
                            name="identity"
                            autocomplete="username"
                            required
                        />
                    </div>
                    <div class="field">
                        <label>M·∫≠t kh·∫©u</label>
                        <div class="pw">
                            <input
                                type="password"
                                name="password"
                                autocomplete="current-password"
                                required
                                minlength="6"
                            />
                            <button
                                type="button"
                                class="pw-toggle"
                                aria-label="Hi·ªán/·∫©n m·∫≠t kh·∫©u"
                            >
                                üëÅ
                            </button>
                        </div>
                    </div>
                    <div class="row">
                        <label class="chk"
                            ><input type="checkbox" id="remember" /> Ghi
                            nh·ªõ</label
                        >
                        <a class="link" href="#" id="forgot">Qu√™n m·∫≠t kh·∫©u?</a>
                    </div>
                    <button class="btn primary" type="submit">ƒêƒÉng nh·∫≠p</button>
                    <p class="error" id="loginError" hidden></p>
                </form>

                <form id="registerForm" class="panel" novalidate>
                    <div class="grid">
                        <div class="field">
                            <label>H·ªç t√™n</label>
                            <input name="full_name" required />
                        </div>
                        <div class="field">
                            <label>Email</label>
                            <input
                                type="email"
                                name="email"
                                autocomplete="email"
                                required
                            />
                        </div>
                    </div>
                    <div class="field">
                        <label>Username</label>
                        <input
                            name="username"
                            autocomplete="username"
                            required
                        />
                    </div>
                    <div class="grid">
                        <div class="field">
                            <label>M·∫≠t kh·∫©u</label>
                            <div class="pw">
                                <input
                                    type="password"
                                    name="password"
                                    autocomplete="new-password"
                                    required
                                    minlength="8"
                                />
                                <button type="button" class="pw-toggle">
                                    üëÅ
                                </button>
                            </div>
                            <small id="strength">ƒê·ªô m·∫°nh: ‚Äî</small>
                        </div>
                        <div class="field">
                            <label>Nh·∫≠p l·∫°i m·∫≠t kh·∫©u</label>
                            <input
                                type="password"
                                name="confirm"
                                required
                                minlength="8"
                            />
                        </div>
                    </div>
                    <button class="btn primary" type="submit">
                        T·∫°o t√†i kho·∫£n
                    </button>
                    <p class="error" id="registerError" hidden></p>
                </form>
                <p class="hint">
                    B·∫±ng vi·ªác ti·∫øp t·ª•c, b·∫°n ƒë·ªìng √Ω v·ªõi ƒêi·ªÅu kho·∫£n & Ch√≠nh s√°ch
                    b·∫£o m·∫≠t.
                </p>
            </div>
        </div>
        <script>
            const tabs = document.querySelectorAll(".tab");
            const panels = {
                login: document.getElementById("loginForm"),
                register: document.getElementById("registerForm"),
            };

            function show(tab) {
                // toggle tab button
                tabs.forEach((t) =>
                    t.classList.toggle("active", t.dataset.tab === tab)
                );
                // toggle panel
                Object.values(panels).forEach((p) =>
                    p.classList.remove("active")
                );
                panels[tab].classList.add("active");
                // ƒë·ªïi ti√™u ƒë·ªÅ & hash (ti·ªán m·ªü tr·ª±c ti·∫øp)
                document.title = tab === "login" ? "ƒêƒÉng nh·∫≠p" : "ƒêƒÉng k√Ω";
                location.hash = tab;
            }

            // click handler
            tabs.forEach((t) =>
                t.addEventListener("click", () => show(t.dataset.tab))
            );

            // m·ªü ƒë√∫ng tab theo URL hash (#login | #register)
            const init = (location.hash || "#login").slice(1);
            show(init);

            // (optional) khi back/forward tr√™n tr√¨nh duy·ªát
            window.addEventListener("hashchange", () =>
                show((location.hash || "#login").slice(1))
            );
        </script>
    </body>
</html>
